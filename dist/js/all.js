const apiKey="582b05f499f2639f9df696b6c1a8623c",days={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};navigator.geolocation.getCurrentPosition((t=>{getCurrentWeatherConditions(t.coords.latitude,t.coords.longitude),getTheNext5DaysForecast(t.coords.latitude,t.coords.longitude)}));const getCurrentWeatherConditions=(t,e)=>fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${apiKey}`).then((t=>{if(t.ok)return t.json();Promise.reject({response:t.status,response:t.statusText})})).then((t=>updateWeatherConditions(t))),updateWeatherConditions=t=>{const e=document.querySelector(".current-conditions"),n=`<h2>Current Conditions</h2>\n  <img src="http://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png" />\n  <div class="current">\n    <div class="temp">${Math.round(t.main.temp-273)}℃</div>\n    <div class="condition">${t.weather[0].description}</div>\n  </div>`;e.insertAdjacentHTML("afterbegin",n)},getTheNext5DaysForecast=(t,e)=>fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${e}&appid=${apiKey}`).then((t=>{if(t.ok)return t.json();Promise.reject({response:t.status,response:t.statusText})})).then((t=>{getNext5DaysForecastInfo(t.list)})),getNext5DaysForecastInfo=t=>{const e=document.querySelector(".forecast");let n=[],a=[],o=[];t.forEach((t=>{let s=new Date(t.dt_txt);if(void 0===n[s.toDateString(t.dt_txt)]?(n[s.toDateString(t.dt_txt)]=[t],a[s.toDateString(t.dt_txt)]=[t.main.temp_max],o[s.toDateString(t.dt_txt)]=[t.main.temp_min]):(n[s.toDateString(t.dt_txt)].push(t),a[s.toDateString(t.dt_txt)].push(t.main.temp_max),o[s.toDateString(t.dt_txt)].push(t.main.temp_min)),"12:00:00 PM"===s.toLocaleTimeString()){const n=`<div class="day">\n      <h3>${days[s.getDay()]}</h3>\n      <img src="http://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png" />\n      <div class="description">${t.weather[0].description}</div>\n      <div class="temp">\n        <span class="high">${parseInt(a[s.toDateString(t.dt_txt)])-273}℃</span>/<span class="low">${parseInt(o[s.toDateString(t.dt_txt)])-273}℃</span>\n      </div>`;e.insertAdjacentHTML("afterbegin",n)}}))};